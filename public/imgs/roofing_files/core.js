(function(q,p,x,v,l){q[p]=q[p]||{};for(q[p].q=q[p].q||[];l<v.length;)x(v[l++],q[p])})(window,"extole",function(q,p){p[q]=p[q]||function(){p.q.push([q,arguments])}},["log"],0);
extole.define||function(){function q(c){c=l(c);return g[c]}function p(c,m){extole.log("error","[REQUIRE] "+c,m)}function x(c,m){if(c.length)for(var k=0;k<c.length;k++)m(c[k],k);else for(k in c)Object.prototype.hasOwnProperty.call(c,k)&&m(c[k],k)}function v(c,m){var k=[];x(c,function(r,u){k[u]=m(r,u)});return k}function l(c){return"string"!==typeof c?c:/origin-\d/.test(c)?c.substring(c.indexOf("type=")).replace(/version=\d+:/,""):c}function w(c){var m=c.split("/").slice(-1)[0],k=m.length;x(m.toLowerCase(),
function(r){k+=" abcdefghijklmnopqrstuvwxyz1234567890-_.".indexOf(r)});return c.replace("origin","origin-"+k%8)}function h(c){var m=/^extole-creatives:/.test(c),k=/^extole-media:/.test(c),r=/^core-root:\/\//.test(c),u=/^extole-assets:/.test(c),y=/origin\./.test(c),B=/^http:/.test(c),C=/^https:/.test(c);return m?(c=c.slice(17),h("extole-assets:/core-modules/"+c)):u?(c=c.slice(14),h("extole-media:/assets/"+c)):k?(c=c.slice(13),c=extole.CORE_ROOT+c,h(c)):r?(c=c.slice(12),c=extole.CORE_ROOT+c,h(c)):y?
(c=w(c),c+="?site="+window.location.hostname,h(c)):B?(c=c.slice(5),h(c)):C?(c=c.slice(6),h(c)):c}function f(){}function d(){var c="undefined"!==typeof window.opera&&"[object Opera]"===window.opera.toString(),m=document.createElement("script");this.useInteractive=m.attachEvent&&!(m.attachEvent.toString&&0>m.attachEvent.toString().indexOf("[native code"))&&!c}function a(){x(g,function(c){c._fetched?c._defined||c.define():c.fetch()})}function e(c,m,k,r,u){if("$config"!=c){var y=q(c),B=y||new f;y||(y=
l(c),g[y]=B);c&&m&&(B._fetched=!0);B.start=B.start||(new Date).getTime();B.url=B.url||c;B.dependencies=B.dependencies||m;B.config=B.config||r;B.definedCallback=B.definedCallback||k;B.isRequire=B.isRequire||u}}function b(c,m,k,r){c instanceof Array&&(r=k,k=m,m=c,c=void 0);n.addDefine({url:c,dependencies:m,definedCallback:k,config:r})}var g={};f.prototype={getUnresolvedDependencies:function(){var c=[];x(this.dependencies,function(m){"$config"!=m&&(m=q(m),(!m||m&&!m._defined)&&c.push(m))});return c},
getDependencies:function(){var c=this,m=[];x(c.dependencies,function(k){k="$config"==k?c.config||null:q(k).definition||null;m.push(k)});return m},define:function(){function c(u){m.definedCallback=void 0;m.definition=u;m.end=(new Date).getTime();m.timeToDefine=m.end-m.start;m._defining=!1;m._defined=!0;setTimeout(a,1)}var m=this;m.defineStartTime=m.defineStartTime||(new Date).getTime();if(!m._defining&&!m._defined&&m.dependencies)if(m._defining=!0,0<m.getUnresolvedDependencies().length)m._defining=
!1;else{var k=m.getDependencies(),r={isAsync:!1,async:function(){m.isAsync=!0;r.isAsync=m.isAsync;return function(u){c(u)}}};(function(){if(m.definedCallback){var u=m.definedCallback;u=u&&u.apply(r,k);r.isAsync||c(u)}else c(!0)})()}},fetch:function(){var c=this;c._fetching||c._fetched||(c.url?(c._fetching=!0,c.startFetchTime=(new Date).getTime(),n.loadModule(c.url,function(){c._fetching=!1;c.endFetchTime=(new Date).getTime();c.timeToFetch=c.endFetchTime-c.startFetchTime;c._fetched=!0;c.define()})):
p("Tried to fetch a module without a url - dependencies: "+c.dependencies+" definedCallback: "+(c.definedCallback?"exists":"null")+" config: "+c.config))}};d.prototype={defineQueue:[],interactiveScript:null,currentlyAddingScript:null,getInteractiveScript:function(){if(n.interactiveScript&&"interactive"==n.interactiveScript.readyState)return n.interactiveScript;for(var c=document.getElementsByTagName("head")[0].getElementsByTagName("script"),m,k=c.length-1;0<=k;k--){var r=this.getScriptDataUrl(c[k]);
c[k]&&"interactive"==c[k].readyState&&r&&(m=c[k])}return m},scriptUrlAttributeName:"data-extole-require-url",getScriptDataUrl:function(c){return c.getAttribute(this.scriptUrlAttributeName)},setScriptDataUrl:function(c,m){c.setAttribute(this.scriptUrlAttributeName,m)},attachOnLoad:function(c,m){function k(y){var B=c.readyState;if(r&&"interactive"==B)this.interactiveScript=c;else if("load"===y.type||u.test(B))r?c.detachEvent("onreadystatechange",k):c.removeEventListener("load",k,!1),m(y)}m=m||function(){};
var r=this.useInteractive,u="PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/;r?c.attachEvent("onreadystatechange",k):c.addEventListener("load",k,!1)},defineTimeout:null,addDefine:function(c){if(c.url)c.url=h(c.url);else{var m=this.currentlyAddingScript||this.getInteractiveScript();this.useInteractive&&m&&(m=this.getScriptDataUrl(m),c.url=m,this.interactiveScript=null)}c.dependencies=v(c.dependencies,h);this.useInteractive&&!c.url&&p("defines should not be missing a url in ie.");
this.defineQueue.push(c);this.defineTimeout&&clearTimeout(this.defineTimeout);var k=this;this.defineTimeout=setTimeout(function(){k.intakeDefines()},1)},intakeTimeout:null,intakeDefines:function(){for(var c=[],m;m=this.defineQueue.shift();){var k=[];x(m.dependencies,function(r){r&&k.push(r)});m.url&&q(m.url);m.url||c.push("deps "+m.dependencies);x(k,function(r){e(r)});e(m.url,k,m.definedCallback,m.config,m.isRequire)}this.intakeTimeout&&clearTimeout(this.intakeTimeout);this.intakeTimeout=setTimeout(a,
1)},loadModule:function(c,m){var k=document.createElement("script");k.async=!0;k.crossOrigin="anonymous";this.setScriptDataUrl(k,c);var r=this;this.attachOnLoad(k,function(){clearTimeout(u);if(!r.useInteractive){for(var B,C=r.defineQueue.length-1;0<=C;C--)r.defineQueue[C].url||(B&&p("Multiple anonymous modules loaded in one script - "+c),B=r.defineQueue[C]);B&&(B.url=c)}r.intakeDefines();m&&m(null)});k.src=c;var u=setTimeout(function(){extole.log("warn","[REQUIRE] Module did not load within 2000ms: ",
{moduleUrl:c})},2E3);this.currentlyAddingScript=k;var y=document.getElementsByTagName("head")[0]||document.head;y?y.appendChild(k):extole.log("warn","[REQUIRE] <head> element not found on trying to load "+c,void 0);this.currentlyAddingScript=void 0}};var n=new d;b.getModule=function(c){return q(c)};var t=0;extole.define=b;extole.require=function(c,m){var k=n,r=k.addDefine;t++;r.call(k,{url:"anonymous_"+t,dependencies:c,definedCallback:m,isRequire:!0})};extole.define("extole-require",[],function(){return{resolveUrl:h}});
setTimeout(function(){var c=!1,m=[];x(g,function(k){k._defined||(c=!0);m.push({defineStartTime:k.defineStartTime,dependencies:k.dependencies,end:k.end,start:k.start,isRequire:k.isRequire,timeToDefine:k.timeToDefine,url:k.url,_defined:k._defined,_defining:k._defining,_fetched:k._fetched})});c&&extole.DUMP_REQUIRE_MODULES_ON_ERROR&&extole.log("error","After 7000ms there are unresolved extole-require modules.  ###"+JSON.stringify(m)+"###")},7E3)}();
(function(){try{(function(q,p,x,v,l){q[p]=q[p]||{};for(q[p].q=q[p].q||[];l<v.length;)x(v[l++],q[p])})(window,"extole",function(q,p){p[q]=p[q]||function(){p.q.push([q,arguments])}},["createZone"],0),(new Function('extole.isFindElementBeforeZoneRequest = true;\nextole.LOG_EXCLUDE_REGEX = /__reactInternalInstance/;\n\nextole.createZonePrehandler = function (zoneDefinition, zoneData) {\n    "use strict";\n    if (zoneDefinition.name === "global_header") {\n        if (!zoneData.partner_user_id) {\n            return false;\n        }\n\n        var stringifiedParams = JSON.stringify([zoneDefinition, zoneData]);\n        \n        if (extole.globalHeaderParams === stringifiedParams) {\n            return false;\n        }\n\n        extole.globalHeaderParams = stringifiedParams;\n        return true;\n    }\n    \n    return !/Chrome-Lighthouse/.test(navigator.userAgent);\n};'))()}catch(q){extole.log("error",
"Error executing extended core javascript. Message: "+q.message+" Stack: "+q.stack)}})();
extole.define("extole-uri-parser",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/collection.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/uri.js"],function(q,p){var x=/^extole_(?!zone)/,v=/^extole_zone_/;return new function(){function l(f){var d={};f=f||h;q.each(f,function(a,e){x.test(e)&&(e=e.replace(x,""),d[e]=a)});return d}function w(){var f,d,a={};this.withName=function(e){f=e;return this};this.withElementId=function(e){d=
e;return this};this.withData=function(e,b){a[e]=b;return this};this.build=function(){var e={};f&&(e.name=f);d&&(e.elementId=d);a&&(e.data=a);return e}}var h=p.deserialize(location.search);this.parseUriZoneDefinition=function(f){var d=new w,a;f=f||h;var e=l(f);q.each(e,function(b,g){d.withData(g,b)});q.each(f,function(b,g){v.test(g)&&(g=g.replace(v,""),"name"===g?(a=!0,d.withName(b)):"element_id"===g?d.withElementId(b):d.withData(g,b))});return a?d.build():null};this.parseGlobalZoneParameters=l}});
(function(q,p,x,v,l){q[p]=q[p]||{};for(q[p].q=q[p].q||[];l<v.length;)x(v[l++],q[p])})(window,"extole",function(q,p){p[q]=p[q]||function(){p.q.push([q,arguments])}},["createZone","log"],0);
(function(){var q=[{name:"Shutterstock Branded Domain",programDomain:"share.shutterstock.com",sitePatterns:"share.shutterstock.com shutterstock.com *.shutterstock.com shuttercloud.org *.shuttercloud.org qa.shutterstock.com *.qa.shutterstock.com".split(" "),siteRegexPatterns:"share\\.shutterstock\\.com\\.?$ shutterstock\\.com\\.?$ .*\\.shutterstock\\.com\\.?$ shuttercloud\\.org\\.?$ .*\\.shuttercloud\\.org\\.?$ qa\\.shutterstock\\.com\\.?$ .*\\.qa\\.shutterstock\\.com\\.?$".split(" ")}];extole.CORE_ROOT=
"https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189";extole.CORE_CONFIG={backendTargetingEnabled:!0,isCookieConsentEnabled:!1,isJsCreativeRespondsWithHtmlEnabled:!1,isGlobalZoneParametersEnabled:!1,isAccessTokenIncludedInResponseEnabled:!0,cookieConsentPolicy:"COOKIE_CONSENT_OR_SESSION_COOKIE",cookieConsentEnabled:!1};extole.CLIENT_ID="1528233037";extole.BUILD_DATE="1717101936504";extole.VERSION="6.0";extole.IS_DEBUG_ENABLED=extole.debug||/[?&]extole_debug=true(&|$)/.test(location.search);
extole.PROGRAM=function(){function p(d,a){d=Error.call(this,d);this.name="ExtoleError";this.message=d.message;this.stack=d.stack;this.code=a}function x(d,a){if(d.length)for(var e=0;e<d.length;e++)a(d[e],e);else for(e in d)Object.prototype.hasOwnProperty.call(d,e)&&a(d[e],e)}function v(d,a){var e=[];x(d,function(b){(b=a(b))&&(e[e.length]=b)});return e}function l(d,a){a=a||[];var e=!1;x(a,function(b){(new RegExp(b)).test(d)&&(e=!0)});return e}function w(){extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/uri.js",
"https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/ajax.js"],function(d,a){var e=extole.CORE_ROOT;d=e.replace(/(https?:\/\/[a-z-\.]+)(\/.*)/,"$1")+"/_extole_core.gif"+d.serialize({core_root:e,referer:window.location.hostname});a({url:d})})}p.prototype=Error();p.prototype.constructor=p;var h=function(d){var a=window.location.hostname;return v(d,function(e){if(l(a,e.siteRegexPatterns))return e})}(q),f=h[0];if(!f)throw w(),new p("No program domain is configured for hostname: "+
window.location.hostname+" unable to use Extole API","site_configuration_error");1<h.length&&extole.log("warn","Multiple programs matched hostname: "+window.location.hostname+" programs: "+JSON.stringify(h));return f}();extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/uri.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/logger.js","create-zone-executor"],function(p,x,v){function l(){function d(e){var b=e[0];
"function"===typeof a[b]?(a[b].apply(null,e[1]),extole.q.history.push({name:e[0],args:e[1],timestamp:Date.now(),stack:Error().stack})):x.warn("Unable to execute method: "+b+", it is not implemented.")}var a={log:function(){var e=Array.prototype.slice.call(arguments),b=e[0];"function"===typeof x[b]&&x[b].apply(null,e.slice(1))},createZone:v.initiateExecution};for(extole.q.history=[];extole.q.length;)d(extole.q.shift());extole.q.push=d}function w(){extole.require(["extole-uri-parser"],function(d){var a=
p.deserialize(location.search);(d=d.parseUriZoneDefinition(a))&&extole.createZone(d)})}function h(){if("function"===typeof window.onerror)var d=window.onerror;window.onerror=function(a,e,b,g,n){if(d)try{d(a,e,b,g,n)}catch(m){}e=e||window.location.href||"no_source_or_location.href";n=n&&n.stack?n.stack:"no_error.stack";var t=[],c=JSON.stringify({MESSAGE:a,SOURCE:e,LINE_NUMBER:b,COLUMN_NUMBER:g,STACK_TRACE:n},function(m,k){if(null!==k&&"object"===typeof k){if(0<=t.indexOf(k))return;t.push(k)}return k});
b=extole.PROGRAM.programDomain.split(".").join("\\.");b=new RegExp("^(http|https):\\/\\/("+b+"|(([A-Za-z0-9-]{1,}\\.){1,}|)(xtlo\\.net|extole(\\.com|\\.io)))(?=(\\/|\\?|$))");((n+a).match(/extole/i)||b.test(e))&&extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/logger.js"],function(m){m.error("Unhandled exception",JSON.parse(c))})}}function f(){extole._bootstrapped=!0;h();l();w()}extole.bootstrap=f;extole._bootstrapped||f();if("undefined"!==typeof window.extoleAsyncInit)try{window.extoleAsyncInit()}catch(d){extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/logger.js"],
function(a){a.error("Error executing extended core javascript. Message : "+d.message+" Stack: "+d.stack)})}})})();
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/ExtoleError.js",[],function(){function q(x,v,l,w){x=Error.call(this,x);this.name="ExtoleError";this.message=x.message||"no_message";this.stack=Error().stack;this.code=v||"extole_error";this.data=l||{};this.logLevel=0<=p.indexOf(w)?w:"error"}var p=["debug","info","warn","error"];q.prototype=Error();q.prototype.constructor=q;q.prototype.toString=function(){return this.name+" ["+this.logLevel+"]: message: "+
this.message+"; code: "+this.code+"; data: "+JSON.stringify(this.data,null,4)+"; stack trace: "+this.stack+";"};return q});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/collection.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/ExtoleError.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/type.js"],function(q,p){function x(l,w){var h;if(l.length===Number(l.length))for(h=0;h<l.length;h++){var f=w(l[h],h);if(!1===f)return!1}else for(h in l)if(Object.prototype.hasOwnProperty.call(l,h)&&(f=w(l[h],
h),!1===f))return!1}function v(l){if(!l||"object"!==typeof l&&!p.isPlainFunction(l))l={};for(var w=1;w<arguments.length;w++)if(p.isPlainObject(arguments[w]))for(var h in arguments[w]){var f=arguments[w][h];f!==l&&void 0!==f&&(p.isPlainObject(f)&&p.isPlainObject(l[h])?f=v(l[h],f):p.isArray(f)&&p.isArray(l[h])&&l[h].concat&&(f=l[h].concat(f)),l[h]=f)}return l}x.BREAK=!1;return{each:x,map:function(l,w){function h(a,e){d=[];x(a,function(b,g){d.push(e(b,g))})}function f(a,e){d={};x(a,function(b,g){d[g]=
e(b,g)})}var d;if(p.isArray(l))h(l,w);else if(p.isPlainObject(l))f(l,w);else throw new q(l+" argument must be type object or array","INVALID_ARGUMENT_EXCEPTION");return d},filter:function(l,w){function h(a,e){d=[];x(a,function(b,g){e(b,g)&&d.push(b)})}function f(a,e){d={};x(a,function(b,g){e(b,g)&&(d[g]=b)})}var d;if(p.isArray(l))h(l,w);else if(p.isPlainObject(l))f(l,w);else throw new q(l+" argument must be type object or array","INVALID_ARGUMENT_EXCEPTION");return d},merge:v,clone:function(l){return JSON.parse(JSON.stringify(l))},
flatten:function(l){function w(f,d){if(p.isPlainObject(f))x(f,function(e,b){var g=d.slice();g.push(b);w(e,g)});else{var a=d.join(".");h[a]=f}}if(!p.isPlainObject(l))return l;var h={};w(l,[]);return h},find:function(l,w){var h;x(l,function(f,d){if(w(f,d))return h=f,x.BREAK});return h},reverse:function(l){var w=[];if(!l||l.length!==Number(l.length))return l;for(var h=l.length-1;0<=h;h--)w.push(l[h]);return w},nashornToJs:function(l){if(p.isPlainJs(l)||!l)return l;if(p.isJavaMap(l)){var w={};for(var h in l)w[h]=
l[h]}else if(p.isNumber(l.length))w=[],x(l,function(f,d){w[d]=f});else return l;return w},intersection:function(l,w){var h=[];x(l,function(f){0>w.indexOf(f)||0<=h.indexOf(f)||h.push(f)});return h},difference:function(l,w){var h=[];x(l,function(f){0<=w.indexOf(f)||0<=h.indexOf(f)||h.push(f)});return h}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/cookie.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/logger.js"],function(q){function p(h){try{return decodeURIComponent(h.replace(v," "))}catch(f){return q.info("** cookie.decode ** Cookie error for: "+h,{error:f,message:f.message,stack:f.stack,cookiePart:h}),""}}function x(h){h=p(h);return 0===h.indexOf('"')?h.slice(1,-1).replace(l,'"').replace(w,"\\"):h}var v=
/\+/g,l=/\\"/g,w=/\\\\/g;return function(h,f,d){if(void 0!==f){d=d||{};var a=document;h=encodeURIComponent(h);f=encodeURIComponent(f);if(d.expires){var e=d.expires;if(!e||!e.toUTCString){var b=new Date;b.setDate(b.getDate()+("number"===typeof e?e:0));e=b}e="; expires="+e.toUTCString()}else e="";return a.cookie=[h,"=",f,e,d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.samesite?"; samesite="+d.samesite:"","; secure"].join("")}a:{d=document.cookie?document.cookie.split("; "):[];a=h?null:
{};f=0;for(e=d.length;f<e;f++){b=d[f].split("=");var g=p(b[0]);if(!h)a[g]=x(b[1]);else if(h===g){h=x(b[1]);break a}}h=a}return h}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/device-type.js",[],function(){function q(v){return p.test(v)}var p=RegExp("Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Dolphin|Fennec|(hpw|web)OS|Zune|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Silk-Accelerated|Skyfire|NetFront","i"),x=/WebView|\swv|(iPhone|iPod|iPad)(?!.*Safari)|Android.*(Version\/\d+\.\d+\s)|Linux; U; Android/i;return{isMobile:q,isDesktop:function(v){return!q(v)},isWebview:function(v){return x.test(v)}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/dom.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/logger.js"],function(q){function p(a,e){return(e||document).querySelectorAll(a)}function x(a,e){return p(a,e)[0]}function v(a,e){function b(){clearTimeout(n);e(g);w.removeListener(g,"load",b)}e=e||function(){};if(d[a]||!a)return e(d[a]),d[a]||null;d[a]=document.createElement("link");var g=d[a];h.setAttribute(g,
"rel","stylesheet");h.setAttribute(g,"href",a);f.append(x("head"),g);w.addListener(g,"load",b);var n=setTimeout(function(){q.warn("Load timeout reached for stylesheet: ",{url:a});b()},5E3);return g}var l={each:function(a,e){var b;if(a.length===Number(a.length))for(b=0;b<a.length;b++){var g=e(a[b],b);if(!1===g)return!1}else for(b in a)if(Object.prototype.hasOwnProperty.call(a,b)&&(g=e(a[b],b),!1===g))return!1},extend:function(){var a,e,b=arguments[0]||{},g=1,n=arguments.length,t=!1,c=this.extend;"boolean"===
typeof b&&(t=b,b=arguments[1]||{},g=2);for("object"===typeof b||this.isFunction(b)||(b={});g<n;g++){var m=arguments[g];if(null!==m)for(a in m){var k=b[a];var r=m[a];b!==r&&(t&&r&&(this.isPlainObject(r)||(e=this.isArray(r)))?(e?(e=!1,k=k&&this.isArray(k)?k:[]):k=k&&this.isPlainObject(k)?k:{},b[a]=c(t,k,r)):void 0!==r&&(b[a]=r))}}return b},isFunction:function(a){return a&&"function"===typeof a&&a.call&&a.apply},isPlainObject:function(a){if("[object Object]"!==String(a)||a.nodeType||a.window&&a.window==
a)return!1;try{if(a.constructor&&!Object.prototype.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isArray:function(a){return a instanceof Array}};l.each.BREAK=!1;var w=function(){function a(t,c,m){for(var k=[],r=0;r<n.length;r++){var u=n[r];u.element==t&&u.eventType==c&&u.listener==m&&k.push({index:r,eventListener:u})}return k}function e(t){for(var c=[],m=0;m<n.length;m++){var k=n[m];k.element===t&&c.push(k)}return c}function b(t){this.originalEvent=
t;this.type=t.type;this.keyCode=t.keyCode;this.target=t.srcElement?t.srcElement:t.target}function g(t,c,m){m=a(t,c,m);0>=m.length?q.info("events.remove - Couldn't find exiting event listener for type \""+c+'" listener on element '+t):l.each(m,function(k){var r=k.index;k=k.eventListener;t.removeEventListener?t.removeEventListener(c,k.listenerWrapper,!1):t.detachEvent("on"+c,k.listenerWrapper);n.splice(r,1)})}var n=[];b.prototype={preventDefault:function(){var t=this.originalEvent;t.preventDefault?
t.preventDefault():t.returnValue=!1},stopPropagation:function(){var t=this.originalEvent;t.stopPropagation&&t.stopPropagation();t.cancelBubble=!0}};return{addListener:function(t,c,m){function k(u){r&&(u=window.event);return m.call(t,new b(u))}if(0<a(t,c,m).length)q.warn("events.add - Listener already exists for event "+c+" on element "+t);else{var r=!t.addEventListener;n.push({element:t,eventType:c,listener:m,listenerWrapper:k});t.addEventListener?t.addEventListener(c,k,!1):t.attachEvent("on"+c,k)}},
triggerEvent:function(t,c,m){var k=document.createEvent("Event");m=l.extend({},m);var r=!1===!m.bubbles,u=!0===m.cancelable;delete m.bubbles;delete m.cancelable;k.initEvent(c,r,u);l.extend(k,m);t.dispatchEvent(k)},removeListener:g,clearListeners:function(t){t=e(t);l.each(t,function(c){g(c.element,c.eventType,c.listener)})}}}(),h=function(){function a(b){b=b.className;var g={};if(!b)return g;l.each(b.split(" "),function(n){g[n]=1});return g}function e(b){var g="";l.each(b,function(n,t){g+=" "+t});
return g.slice(1)}return{setAttribute:function(b,g,n){b.setAttribute(g,n);b[g]=n},getAttribute:function(b,g){return b.getAttribute(g)},removeAttribute:function(b,g){return b.removeAttribute(g)},addClass:function(b,g){var n=a(b);n[g]||(n[g]=1,b.className=e(n))},removeClass:function(b,g){var n=a(b);delete n[g];b.className=e(n)},getClassNames:function(b){return b.className.split(" ")}}}(),f=function(){function a(b){var g=document.createDocumentFragment(),n=document.createElement("div");n.innerHTML=b;
l.each(n.childNodes,function(t){1==t.nodeType&&g.appendChild(t)});return g}function e(b){var g;l.each(b.childNodes,function(n){if(!g&&1==n.nodeType)return g=n,l.each.BREAK});return g}return{prepend:function(b,g){var n=e(b),t=g;"string"===typeof g&&(t=a(g));n?b.insertBefore(t,n):b.appendChild(t)},append:function(b,g){var n=g;"string"===typeof g&&(n=a(g));b.appendChild(n)}}}(),d={};return{addEventListener:w.addListener,removeEventListener:w.removeListener,triggerEvent:w.triggerEvent,clearEventListeners:w.clearListeners,
getAttribute:h.getAttribute,setAttribute:h.setAttribute,removeAttribute:h.removeAttribute,addClass:h.addClass,removeClass:h.removeClass,getClassNames:h.getClassNames,prepend:f.prepend,append:f.append,query:p,queryFirst:x,isVisible:function(a,e){return!!(x(a,e)||{}).offsetParent},injectStylesheet:v,injectStylesheets:function(a,e){function b(t){--g||e(n)}e=e||function(){};if(0===a.length)e();else{var g=0,n=[];l.each(a,function(t){g++;setTimeout(function(){n.push(v(t,b))},1)})}},scrollIntoViewIfNeeded:function(a,
e){function b(r,u){return{start:r,length:u,end:r+u}}function g(r,u){return!1===e||u.start<r.end&&r.start<u.end?Math.min(r.start,Math.max(u.start,r.end-u.length)):(r.start+r.end-u.length)/2}function n(r,u){return{x:r,y:u,translate:function(y,B){return n(r+y,u+B)}}}function t(r,u){for(;r;)u=u.translate(r.offsetLeft,r.offsetTop),r=r.offsetParent;return u}var c=t(a,n(0,0)),m=n(a.offsetWidth,a.offsetHeight);a=a.parentNode;for(var k;a instanceof HTMLElement;)k=t(a,n(a.clientLeft,a.clientTop)),a.scrollLeft=
g(b(c.x-k.x,m.x),b(a.scrollLeft,a.clientWidth)),a.scrollTop=g(b(c.y-k.y,m.y),b(a.scrollTop,a.clientHeight)),c=c.translate(-a.scrollLeft,-a.scrollTop),a=a.parentNode}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/event-bus.js",[],function(){function q(){function v(h,f,d,a){if(!d)return!0;if("object"===typeof d){for(var e in d)h[f].apply(h,[e,d[e]].concat(a));return!1}if(w.test(d)){d=d.split(w);e=0;for(var b=d.length;e<b;e++)h[f].apply(h,[d[e]].concat(a));return!1}return!0}function l(h,f){var d,a=-1,e=h.length,b=f[0],g=f[1],n=f[2];switch(f.length){case 0:for(;++a<e;)(d=h[a]).callback.call(d.ctx);break;case 1:for(;++a<
e;)(d=h[a]).callback.call(d.ctx,b);break;case 2:for(;++a<e;)(d=h[a]).callback.call(d.ctx,b,g);break;case 3:for(;++a<e;)(d=h[a]).callback.call(d.ctx,b,g,n);break;default:for(;++a<e;)(d=h[a]).callback.apply(d.ctx,f)}}this._events={};var w=/\s+/;this.on=function(h,f,d){if(!v(this,"on",h,[f,d])||!f)return this;this._events||(this._events={});(this._events[h]||(this._events[h]=[])).push({callback:f,context:d,ctx:d||this});return this};this.off=function(h,f,d){var a,e,b;if(!this._events||!v(this,"off",
h,[f,d]))return this;if(!h&&!f&&!d)return this._events=void 0,this;var g=h?[h]:x.keys(this._events);var n=0;for(e=g.length;n<e;n++)if(h=g[n],a=this._events[h]){var t=[];this._events[h]=t;if(f||d){var c=0;for(b=a.length;c<b;c++){var m=a[c];(f&&f!==m.callback&&f!==m.callback._callback||d&&d!==m.context)&&t.push(m)}}t.length||delete this._events[h]}return this};this.once=function(h,f,d){function a(){var b=p.call(arguments);e.off(h,a,d);f.apply(this,b)}var e=this;this.on(h,a,d);return this};this.trigger=
function(h){if(!this._events)return this;var f=p.call(arguments,1);if(!v(this,"trigger",h,f))return this;var d=this._events[h],a=this._events.all;d&&l(d,f);a&&l(a,arguments);return this}}var p=Array.prototype.slice,x={isPlainObject:function(v){if("[object Object]"!==String(v)||v.nodeType||v.window&&v.window==v)return!1;try{if(v.constructor&&!Object.prototype.hasOwnProperty.call(v.constructor.prototype,"isPrototypeOf"))return!1}catch(l){return!1}return!0},keys:function(v){if(!this.isPlainObject(v))return[];
var l=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&l.push(w);return l},_idCounter:0,uniqueId:function(v){var l=String(++this._idCounter);return v?v+l:l}};return{create:function(){return new q}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/logger.js",[],function(){function q(b,g,n){l||(l=g.getGlobalServices().getJsLoggingService());l[b](n)}function p(b,g,n){var t=String(extole.CORE_ROOT).match(/coreAssetsVersion=(\d+)/);n=n||{};n.pageId=h;n.referer=f;n.coreAssetsVersion=t&&t[1];try{var c=[g||"no message","START_JSON",JSON.stringify(n),"END_JSON"].join(" ")}catch(m){v("Failed to stringify log's json data",{exception:m});return}if(!extole.LOG_EXCLUDE_REGEX||
!c.match(extole.LOG_EXCLUDE_REGEX)){e[c]=++e[c]||1;if(d[b]>=d[extole.LOG_LEVEL_CONSOLE]&&(g=b+" "+c,window.console))if(window.console[b.toLowerCase()])window.console[b.toLowerCase()](g);else window.console.log(g);d[b]>=d[extole.LOG_LEVEL_REMOTE]&&(g=e[c],a[g]&&x(b,c+(1<g?" log count: "+g:"")))}}function x(b,g){extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/api.js"],function(n){n.post("/api/v4/debug/logs",{level:b,message:g},null,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})}
function v(b,g){p("ERROR",b,g)}var l;if("undefined"===typeof window)return{debug:function(b,g){q("debug",b,g)},info:function(b,g){q("info",b,g)},warn:function(b,g){q("warn",b,g)},error:function(b,g){q("error",b,g)},LOGGING_ENDPOINT:"/api/v4/debug/logs"};var w=extole.IS_DEBUG_ENABLED?"DEBUG":"OFF",h=String((new Date).getTime()),f=window.location.href,d={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4},a={1:!0,3:!0,10:!0,30:!0,100:!0,250:!0,500:!0,1E3:!0};extole.LOG_EXCLUDE_REGEX=extole.LOG_EXCLUDE_REGEX||void 0;
extole.LOG_LEVEL_CONSOLE=extole.LOG_LEVEL_CONSOLE||w;extole.LOG_LEVEL_REMOTE=extole.LOG_LEVEL_REMOTE||"WARN";var e={};return{debug:function(b,g){p("DEBUG",b,g)},info:function(b,g){p("INFO",b,g)},warn:function(b,g){p("WARN",b,g)},error:v,LOGGING_ENDPOINT:"/api/v4/debug/logs"}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/Timer.js",[],function(){return function(){var q=this,p;this.start=function(){if(p)throw Error("Timer.start has already been called");p=new Date;return q};this.getElapsedTime=function(){if(!p)throw Error("Timer has not been started");return new Date-p}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/type.js",[],function(){function q(v,l){return function(w){return p(v,w,l)}}function p(v,l,w){w=w||{};v=Object.prototype.toString.call(l)==="[object "+v+"]";l=l&&w.construct?l.constructor===w.construct:!0;return(w.negate?!v:v)&&l}var x=/\[object (Function|Array|String|Boolean|Number|Undefined|Null)\]/;return{isPlainJs:function(v){return this.isPlainObject(v)||x.test(Object.prototype.toString.call(v))},
isJavaMap:function(v){return"undefined"!==typeof Java&&Java.type?v instanceof Java.type("java.util.Map"):!1},isPlainObject:q("Object",{construct:Object}),isPlainFunction:q("Function"),isArray:q("Array"),isString:q("String"),isBoolean:q("Boolean"),isNumber:q("Number"),isUndefined:q("Undefined"),isDefined:q("Undefined",{negate:!0}),isNull:q("Null"),test:p}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/uri.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/collection.js"],function(q){function p(f){var d={};(function g(e,b){for(var n in e){var t=e[n],c=(b?b+".":"")+n;"[object Object]"===Object.prototype.toString.call(t)?g(t,c):v(c)&&(d[c]=t)}})(f);return d}function x(f){try{return decodeURIComponent(f)}catch(d){return f}}function v(f){return"__proto__"!==f&&"prototype"!==
f&&"constructor"!==f}function l(f,d,a){d=(d||[]).concat("object"===typeof extole&&extole.PROGRAM?extole.PROGRAM.siteRegexPatterns:[]);a=w(a||location.href);f=w(f);return(/^https?:\/\//.test(f)?q.find(d,function(e){var b=h.exec(f);return(new RegExp(e)).test(b&&b[1])}):1)?f:a}function w(f){return f.replace(RegExp("(j|%4A|%6A)(a|%41|%61)(v|%56|%76)(a|%41|%61)(s|%53|%73)(c|%43|%63)(r|%52|%72)(i|%49|%69)(p|%50|%70)(t|%54|%74)(:|%3A)","gi"),"")}var h=/^https?:\/\/([^/:?#]+)/i;return{serialize:function(f){var d=
"",a;for(a in f)d+="&"+encodeURIComponent(a)+"="+encodeURIComponent(String(f[a]));return d.replace(/^&/,"?")},deserialize:function(f){var d={};if(!f)return d;f=(f.match(/^\?/)?f.slice(1):f).split("&");for(var a=0;a<f.length;a++){var e=f[a].split("="),b=x(e[0]);e=x(e[1]);v(b)&&(d[b]=e)}return d},objectToDotNotation:p,dotNotationToObject:function(f){var d={};f=p(f);for(var a in f){for(var e=d,b=a.split("."),g=b.pop();b.length;){var n=b.shift();v(n)&&(e[n]=e[n]||{},e=e[n])}v(g)&&(e[g]=f[a])}return d},
decodeComponent:x,encodeComponent:function(f){return encodeURIComponent(f)},getSafeRedirectUrl:l,executeSafeRedirect:function(f,d,a){window.location.href=l(f,d,a)}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/ajax.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/collection.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/uri.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/type.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/logger.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/client/token-store.js"],
function(q,p,x,v,l){function w(a,e){function b(){if(4===a.readyState&&!A){A=!0;if(String(a.status||200).match(/^[23]/))if("function"===typeof C){var D=a.getAllResponseHeaders();D.toLowerCase().includes("x-extole-token")&&(D=g(D),D["x-extole-token"]&&l.set(D["x-extole-token"]));C.call(a,a.responseText,a)}else v.warn("'complete' callback must be a function.");else z.call(a,a.statusText,a.status);c()}}function g(D){try{var E={};D.trim().split(/[\r\n]+/).forEach(F=>{var G=F.split(": ");F=G.shift();G=
G.join(": ");E[F]=G});return E}catch(F){return v.error("Error parsing response headers: ",F),{}}}function n(D){A||(A=!0,v.error("Error with url "+u+"= "+m.join(","),t(D)),z.call(a,a.statusText,a.status))}function t(D){return{eventType:D&&D.type||null,options:e,readyState:a.readyState,response:a.response,responseText:a.responseText,responseType:a.responseType,responseURL:a.responseURL,responseXML:a.responseXML,status:a.status,statusText:a.statusText,timeout:a.timeout,responseHeaders:a.getAllResponseHeaders()}}
function c(D){0>u.indexOf(v.LOGGING_ENDPOINT)&&v.debug("ajax request complete",t(D))}var m=Array.prototype.slice.call(arguments),k=e.headers||{},r=e.xhrFields||{},u=e.url||"",y=e.data||"",B=(e.type||"get").toUpperCase(),C=e.complete||function(){},z=e.error||function(){};u.includes("/api/")&&!e.noAuthorizationHeader&&(k.Authorization=l.get());x.isPlainObject(y)&&("GET"===B?(u+=p.serialize(y),y=null):y=JSON.stringify(y));a.open(B,u,!0);q.merge(a,r);q.each(k,function(D,E){try{a.setRequestHeader(E,D)}catch(F){v.error("AJAX ERROR: Couldn't set request header "+
E+" to "+D)}});var A=!1;a.onload=b;a.onreadystatechange=b;a.onerror=n;a.ontimeout=n;a.onabort=c;a.send(y)}function h(a){q.each(a,function(e,b){"content-type"===b.toLowerCase()&&delete a[b]})}function f(a){a=a||{};var e=!1;for(var b=0;b<d.length;b++){try{e=d[b]()}catch(g){continue}break}w(e,a);return e}var d=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];
f.convertToFormUrlEncoded=function(a,e){function b(n){var t={};q.each(n,function(c,m){m=0<=m.indexOf(".")?'"'+m+'"':m;x.isPlainObject(c)&&(c=b(c));t[m]=c});return t}var g=[];h(a);a["content-type"]="application/x-www-form-urlencoded";e=b(e);e=q.flatten(e);q.each(a,function(n,t){"content-type"!==t.toLowerCase()&&(g.push("::headers."+t+"="+n),delete a[t])});q.each(e,function(n,t){x.isUndefined(n)||g.push(encodeURIComponent(t)+"="+(x.isNull(n)?"":encodeURIComponent(n)))});return g.join("&")};f.convertToMultipartFormData=
function(a,e){var b=new FormData;q.each(e,function(g,n){b.append(n,g)});h(a);return b};return f});extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/client/program.js",[],function(){return{getName:function(){return extole.PROGRAM.name},getProgramDomain:function(){return extole.PROGRAM.programDomain},getSitePatterns:function(){return extole.PROGRAM.sitePatterns},getSiteRegexPatterns:function(){return extole.PROGRAM.siteRegexPatterns},getProtocol:function(){return"https://"}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/client/token-store.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/ExtoleError.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/collection.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/logger.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/event-bus.js",
"https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/cookie.js"],function(q,p,x,v,l){function w(){function e(){C[d.MEMORY]=C[d.MEMORY]||new n;C[d.COOKIE]=C[d.COOKIE]||new t;C[d.LOCAL_STORAGE]=C[d.LOCAL_STORAGE]||new c;extole.COOKIES_DISABLED&&(C[d.COOKIE].remove(),delete C[d.COOKIE]);extole.LOCAL_STORAGE_ALWAYS_ENABLED||extole.LOCAL_STORAGE_ENABLED_WHEN_CONSENTED||extole.LOCAL_STORAGE_ENABLED_WHEN_UNCONSENTED||(C[d.LOCAL_STORAGE].remove(),delete C[d.LOCAL_STORAGE])}
function b(){var z=y===f.YEAR?r():u();return(z=p.find(z,function(A){A=A.get();return!("string"!==typeof A||"undefined"===A||"null"===A||!A.length)}))?z.get():null}function g(z,A){var D=b();if(!z&&D)z=D;else if(!z&&!D)return;var E=D!==z;y=Object.prototype.hasOwnProperty.call(f,A)&&A||(E||!y?m():y);k(y);p.each(y===f.YEAR?r():u(),function(F){F.set(z,y)});E&&B.trigger("change:access_token");D&&E&&x.debug("ACCESS_TOKEN_CHANGE - the access token changed from: "+D+", to: "+z)}function n(){var z={};this.get=
function(){return z.extole_access_token};this.set=function(A){z.extole_access_token=A};this.remove=function(){delete z.extole_access_token}}function t(){this.get=function(){return l("extole_access_token")};this.set=function(z,A){l("extole_access_token",z,{expires:a[A.toUpperCase()],path:"/",samesite:"strict"})};this.remove=function(){l("extole_access_token","",{expires:-1,path:"/"})}}function c(){var z;(function(){var A="test"+(new Date).getTime();try{localStorage.setItem(A,A),localStorage.removeItem(A)}catch(D){z=
!1;return}z=!0})();this.get=function(){return z?localStorage.getItem("extole_access_token"):null};this.set=function(A){z&&localStorage.setItem("extole_access_token",A)};this.remove=function(){z&&localStorage.removeItem("extole_access_token")}}function m(){if(extole.CORE_CONFIG.isCookieConsentEnabled)switch(extole.CORE_CONFIG.cookieConsentPolicy){case h.COOKIE_CONSENT_OR_SESSION_COOKIE:return f.SESSION;case h.COOKIE_CONSENT_OR_NO_COOKIE:return f.NO_COOKIE;default:return f.NO_COOKIE}return f.YEAR}function k(){var z=
y===f.YEAR?r():u();p.each(C,function(A){0>z.indexOf(A)&&A.remove()})}function r(){var z=[d.MEMORY];Object.prototype.hasOwnProperty.call(C,d.COOKIE)&&z.push(d.COOKIE);(extole.LOCAL_STORAGE_ENABLED_WHEN_CONSENTED||extole.LOCAL_STORAGE_ALWAYS_ENABLED)&&z.push(d.LOCAL_STORAGE);return z.map(function(A){return C[A]})}function u(){var z=[d.MEMORY];extole.CORE_CONFIG.cookieConsentPolicy===h.COOKIE_CONSENT_OR_SESSION_COOKIE&&Object.prototype.hasOwnProperty.call(C,d.COOKIE)&&z.push(d.COOKIE);(extole.LOCAL_STORAGE_ENABLED_WHEN_UNCONSENTED||
extole.LOCAL_STORAGE_ALWAYS_ENABLED)&&z.push(d.LOCAL_STORAGE);return z.map(function(A){return C[A]})}var y,B=v.create(),C={};e();this.getCurrentTokenDuration=function(){return y};this.get=b;this.set=g;this.remove=function(){y=m();p.each(C,function(z){z.remove()})};this.setUnconsented=function(){y=m();g()};this.initializeStores=e;this.events=B}var h={COOKIE_CONSENT_DISABLED:"COOKIE_CONSENT_DISABLED",COOKIE_CONSENT_OR_SESSION_COOKIE:"COOKIE_CONSENT_OR_SESSION_COOKIE",COOKIE_CONSENT_OR_NO_COOKIE:"COOKIE_CONSENT_OR_NO_COOKIE"},
f={NO_COOKIE:"NO_COOKIE",SESSION:"SESSION",YEAR:"YEAR"},d={MEMORY:"MEMORY",COOKIE:"COOKIE",LOCAL_STORAGE:"LOCAL_STORAGE"},a={YEAR:365,SESSION:null};extole.tokenStore=extole.tokenStore?extole.tokenStore:new w;return extole.tokenStore});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/client/metric-registry.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/client/program.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/ajax.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/client/token-store.js"],function(q,p,x){function v(h,f,d){d={metric_type:h,key:f,value:d};h={"Content-Type":"application/x-www-form-urlencoded",
"X-Extole-App":"javascript_sdk"};x.get()&&(h.Authorization="Bearer+"+x.get(),f=[q.getProtocol(),q.getProgramDomain(),"/api/v4/debug/metrics"].join(""),d=p.convertToFormUrlEncoded(h,d),p({url:f,type:"POST",headers:h,data:d,xhrFields:{withCredentials:!0}}))}function l(h){this.increment=function(f){v("COUNTER",h,f?f:1)}}function w(h){this.update=function(f){v("HISTOGRAM",h,f)}}return{histogram:function(h){return new w(h)},counter:function(h){return new l(h)}}});
extole.define("ZoneBrowserContext",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/uri.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/collection.js"],function(q,p){function x(w,h,f){this.getElement=function(){return f};this.getName=function(){return w};this.getData=function(){return h};this.getParameters=function(){return h}}function v(){this.getName=function(){return extole.PROGRAM.name};this.getProgramDomain=function(){return extole.PROGRAM.programDomain};
this.getSitePatterns=function(){return extole.PROGRAM.sitePatterns};this.getSiteRegexPatterns=function(){return extole.PROGRAM.siteRegexPatterns}}function l(){this.backendTargetingEnabled=function(){return!0};this.cookieConsentEnabled=function(){return extole.CORE_CONFIG.isCookieConsentEnabled}}return function(w,h,f,d,a){var e=new x(w,h,f),b=new v,g=new l;this.getZone=function(){return e};this.getProgram=function(){return b};this.getCreativeData=function(){var n=q.dotNotationToObject(q.deserialize(location.search)),
t=q.dotNotationToObject(e.getParameters());return p.merge(n.extole_creative,t.creative)};this.getCoreConfig=function(){return g};this.getLocale=function(){return d||null};this.getContainer=function(){return a}}});
extole.define("find-element-by-id",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/logger.js"],function(q){function p(x,v,l){function w(){if(v())l();else{x();var f=setTimeout;h||(h=10);var d=500<h?500:h*=1.1;f(w,d)}}var h;w()}return function(x,v){var l=(new Date).getTime(),w=extole.MILLISECONDS_TO_WARN_WHEN_ELEMENT_NOT_FOUND||3E3,h=extole.MILLISECONDS_TO_WARN_WHEN_ELEMENT_FOUND||2E3,f=!1,d;p(function(){d=document.getElementById(x)},function(){var a=(new Date).getTime()-
l,e=!!d;e&&a>=h?q.debug("EXTOLE_ELEMENT_FOUND_SLOW: Scan duration: "+a+"ms, element id: "+x):!extole.isFindElementBeforeZoneRequest&&!f&&a>=w&&(f=!0,q.debug("EXTOLE_ELEMENT_NOT_YET_FOUND: Scan duration: "+a+"ms, element id: "+x));return e},function(){v(d)})}});extole.define("ensure-element",["find-element-by-id"],function(q){return function(p,x){p.element?x(p.element):p.element_id?q(p.element_id,x):x(document.body.appendChild(document.createElement("div")))}});
extole.define("pending-zone-service","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/dom.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/type.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/logger.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/collection.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/client/token-store.js ZoneBrowserContext ensure-element".split(" "),
function(q,p,x,v,l,w,h){function f(b,g){g=g||function(){};var n=b.name,t=d(b.data);e(n);this.resolve=function(c,m,k,r,u){l.set(m,k);h(b,function(y){b.element=y;q.clearEventListeners(b.element);y=new w(n,t,b.element,r,u);c(y);g(null,y.getZone())})}}function d(b){b=v.merge({},b);delete b.campaign_id;delete b.extole_campaign_id;return b}var a={},e=function(){var b={};return function(g){p.isUndefined(b[g])&&(b[g]=0);b[g]++;if(5===b[g]){g="duplicate_zone_requests : "+g;var n=v.filter(extole.q.history,
function(t){return t.name&&"createZone"===t.name});n=v.map(n,function(t){delete (t.args[0]||{}).element;return t});x.warn(g,n)}}}();return{get:function(b){if(!a[b])throw Error("Pending zone does not exist for id: "+b);return a[b]},create:function(){var b=Math.floor(1E9*Math.random()),g=0;return function(n,t){g++;var c=b+"."+g;a[c]=new f(n,t);return c}}()}});
extole.define("create-zone","extole-uri-parser https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/uri.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/collection.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/dom.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/client/program.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/client/token-store.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/ajax.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/ExtoleError.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/logger.js pending-zone-service".split(" "),function(q,
p,x,v,l,w,h,f,d,a){var e=[];return function(b,g,n){function t(){var A={"Content-Type":"application/x-www-form-urlencoded",Accept:"text/javascript","X-Extole-App":"javascript_sdk"};k=C+"/zones/"+b.name;y&&(A["X-Extole-Jwt"]=y,delete u.jwt);B&&(A.Authorization="Bearer+"+B);z&&(A["X-Extole-Debug"]="true");var D=h.convertToFormUrlEncoded(A,u);h({url:k,type:"POST",headers:A,data:D,complete:function(E,F){var G=/^text\/html(;|$)/,H=/^text\/plain(;|$)/;F=F.getResponseHeader("Content-Type");if(/^text\/javascript(;|$)/.test(F))var I=
E;else G.test(F)?(G=document.createElement("div"),G.innerHTML=E,I=v.queryFirst("script",G).innerHTML):H.test(F)&&!E?d.info("No content to render"):c(new f("Received invalid content type: '"+F+"'","invalid_content_type",null,"warn"));if(I)try{(new Function(I))()}catch(J){c(new f("Error in zone script - MESSAGE: "+J.message+" STACK: "+J.stack,"zone_script_error"))}m()},error:function(E,F){try{var G=JSON.parse(this.responseText)}catch(H){G={status:F||null,statusText:E||null}}c(new f(G.message||"Ajax zone request failed",
G.code||null,G))},xhrFields:{withCredentials:!0}})}function c(A){var D=x.merge({originalMessage:A.message,zoneRequestUrl:k||null,zoneDefinition:b},A.data);g(new f("Problem creating zone",A.code||"zone_request_failed",D,A.logLevel||"error"));m()}function m(){"function"===typeof n&&setTimeout(n,500)}g=g||function(){};var k,r=p.deserialize(location.search),u=x.merge({},b.data||b.parameters),y=b.jwt||u.jwt||r.extole_jwt,B=w.get(),C=[l.getProtocol(),l.getProgramDomain()].join(""),z=u.debug&&"false"!==
u.debug||extole.IS_DEBUG_ENABLED;extole.isPassRefererInZoneData&&(u.referer=location.href);extole.CORE_CONFIG.isGlobalZoneParametersEnabled&&(r=q.parseGlobalZoneParameters(r),u=x.merge(u,r));if(extole.createZonePrehandler&&(r=extole.createZonePrehandler(b,u),!1===r)){d.info("Zone request cancelled");return}b.element_id&&(u.element_id=b.element_id);(function(){var A=Date.now(),D=A-6E4;e=e.filter(function(E){return E>D});60<e.length?d.warn("Zone request "+b.name+" exceeded maximum number of zone requests per minute: 60"):
e.push(A);b.data=u;u.zone_id=a.create(b,g);u=x.flatten(u);t()})()}});
extole.define("create-zone-executor","create-zone ensure-element https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/ExtoleError.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/logger.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/client/token-store.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/ajax.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=189/common/collection.js".split(" "),function(q,
p,x,v,l,w,h){function f(k,r,u){function y(z){if(z)B(z);else{c=!0;var A=Array.prototype.slice.call(arguments);(r||function(){}).apply(null,A);C()}}function B(z){function A(){setTimeout(function(){d(k,r,u)},1)}u+=1;if(5>u)if(a(z))c=!1,l.remove(),A();else v[z.logLevel||"error"](z.toString());else v[z.logLevel||"error"](z.toString())}var C;t.push(function(z){C=e(z);q(k,y,C);c&&C()})}function d(k,r,u){function y(){var B=!!l.get(),C=!!k.element;!extole.CORE_CONFIG.isAccessTokenIncludedInResponseEnabled&&
!B||extole.isFindElementBeforeZoneRequest&&!C||f(k,r,u)}u=Number(u)||0;l.get()||extole.CORE_CONFIG.isAccessTokenIncludedInResponseEnabled||m(y);extole.isFindElementBeforeZoneRequest?p(k,function(B){k.element=B;y()}):y()}function a(k){k=k||{};return k.data&&403===k.data.http_status_code&&("invalid_access_token"===k.code||"expired_access_token"===k.code)}function e(k){var r=!1;return function(){var u=Array.prototype.slice.call(arguments);r||(r=!0,k.apply(null,u))}}function b(k){function r(y,B){u+=1;
y?5>u?g(r):(y="Failed to fetch access token after 5 attempts. Last Error: "+y.message,v.error(y),k(Error(y))):k(null,B)}var u=0;g(r)}function g(k){n("POST","/api/v5/token",null,function(r,u){k(r,u)})}function n(k,r,u,y){function B(z,A){try{var D=JSON.parse(z)}catch(E){A(E);return}A(null,D)}u=u||l.get();var C="https://"+extole.PROGRAM.programDomain+r+(u?"?access_token="+u:"");w({url:C,type:k,headers:{"content-type":"application/json"},complete:function(z){B(z,y)},error:function(z,A){var D=this,E="Api request to "+
r+" failed: "+A+" "+z,F={method:k,url:C,statusText:z||null,http_status_code:A||null};B(D.responseText,function(G,H){if(G){G="Failed to parse api error response as json";var I="json_parse_error";H=h.merge({response:D.responseText},F)}else G=H.message||E,I=H.code||"failed_api_request",H=h.merge({},H,F);y(new x(G,I,H))})}})}var t=new function(){var k=0,r=[],u=this,y=!1;this.push=function(B){r.push(B);this.next()};this.next=function(){function B(){k--;u.next()}if(!y)for(;1>k&&r.length;)r.shift()(B),k++};
this.start=function(){y=!1;this.next()};this.stop=function(){y=!0}},c=!1,m=function(k){function r(){for(;u.length;)u.shift().apply(null,arguments)}var u=[],y=!1;return function(B){u.push(B);y||(y=!0,k(function(){y=!1;r.apply(null,arguments)}))}}(function(k){k=k||function(){};b(function(r,u){var y=u.access_token;y&&l.set(y);y=l.getCurrentTokenDuration();k(r,u,y)})});return{initiateExecution:d}});